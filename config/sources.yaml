version: 1
defaults:
  enabled: true
  max_items_per_fetch: 50
  timeout_seconds: 20
  user_agent: "hardstop-agent/0.6.1 (WhatsYourWhy; contact: you@example.com)"
  rate_limit:
    per_host_min_seconds: 2
    jitter_seconds: 1
  dedupe:
    strategy: "canonical_id_or_hash"

tiers:
  global:
    - id: nws_active_us
      type: nws_alerts
      enabled: true
      tier: global
      url: "https://api.weather.gov/alerts/active"
      tags: ["weather", "disruption"]
      geo:
        country: "US"
      trust_tier: 3
      classification_floor: 0
      weighting_bias: 0

    - id: fda_food_safety_recalls
      type: rss
      enabled: true
      tier: global
      url: "https://www.fda.gov/about-fda/contact-fda/stay-informed/rss-feeds/food-safety-recalls/rss.xml"
      tags: ["recall", "food-safety", "supply-disruption"]
      geo:
        country: "US"
      trust_tier: 3
      classification_floor: 1
      weighting_bias: 0

    - id: fda_all_recalls
      type: rss
      enabled: true
      tier: global
      url: "https://www.fda.gov/about-fda/contact-fda/stay-informed/rss-feeds/recalls/rss.xml"
      tags: ["recall", "supply-disruption"]
      geo:
        country: "US"
      trust_tier: 3
      classification_floor: 1
      weighting_bias: 0

    - id: fema_ipaws_all_hazards
      type: rss
      enabled: false
      tier: global
      url: "REQUIRES_CREDENTIALS"
      tags: ["disaster", "public-alerts"]
      geo:
        country: "US"
      # Note: IPAWS All-Hazards Information Feed requires access/credentials.
      # Not public/no-login. Disabled until credentials are available.
      # Official source: https://www.fema.gov/emergency-managers/practitioners/integrated-public-alert-warning-system/technology-developers/all-hazards-information-feed

  regional:
    - id: nws_active_in
      type: nws_alerts
      enabled: true
      tier: regional
      url: "https://api.weather.gov/alerts/active?area=IN"
      tags: ["weather", "indiana"]
      geo:
        country: "US"
        state: "IN"
      trust_tier: 3
      classification_floor: 0
      weighting_bias: 0

    - id: nws_active_il
      type: nws_alerts
      enabled: true
      tier: regional
      url: "https://api.weather.gov/alerts/active?area=IL"
      tags: ["weather", "illinois"]
      geo:
        country: "US"
        state: "IL"
      trust_tier: 3
      classification_floor: 0
      weighting_bias: 0

    - id: uscg_lnm_district_1
      type: rss
      enabled: true
      tier: regional
      url: "https://public.govdelivery.com/topics/USDHSCG_65/feed.rss"
      tags: ["port", "maritime", "uscg"]
      geo:
        country: "US"
      trust_tier: 3
      classification_floor: 0
      weighting_bias: 0
      # USCG Local Notices to Mariners (District 1) via GovDelivery RSS
      # Official source: https://www.navcen.uscg.gov/subscribe-email-rss-feeds
      suppress:
        - id: uscg_routine_nav_notice
          kind: keyword
          field: title
          pattern: "weekly summary"
          case_sensitive: false
          note: "Routine weekly digest; too chatty"

  local:
    - id: navcen_news_notices
      type: rss
      enabled: false
      tier: local
      url: "https://www.navcen.uscg.gov/?pageName=newsRSS"
      tags: ["port", "maritime", "uscg"]
      geo:
        country: "US"
      # Note: NAVCEN direct RSS may not work. Use GovDelivery feeds instead (see uscg_lnm_district_1 above).

